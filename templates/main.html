<!DOCTYPE html>
<html>
<head>

    <title>Attend</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <link href="css/uikit.min.css" rel="stylesheet" />
    <link href="css/uikit.almost-flat.min.css" rel="stylesheet" />
    
    <!-- Javascript -->
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="js/uikit.min.js"></script>
    <script src="js/addons/datepicker.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular.min.js"></script>

</head>
<body ng-app="app" ng-controller="mainController" ng-cloak>

    <div ng-hide="unauth" class="uk-vertical-align uk-text-center uk-height-1-1">
        <div class="uk-vertical-align-middle" style="width: 250px;">
            
            <!-- MAP-->
            <div id="map-canvas" style="height: 300px"></div>
            
            <!-- INFO -->
            <div class="uk-panel uk-panel-box">
                <h2>{{ conf.name }}</h2>
                <p>{{ conf.day }}</p>
                <p>at {{ conf.location.name }}</p>
            </div>

            <br />
            
            <div class="uk-panel uk-panel-box">
                <h3>Welcome {{ user.name }}</h3>
                <p>Location: {{ userLocation }}</p>
            </div>
            
            <br />
            
            <!--BUTTONS-->
            <div ng-show="userLocation != 'other'" class="uk-panel uk-panel-box">
                <a ng-show="!checkin.in" 
                   ng-click="checkIn()" 
                   class="uk-width-1-1 uk-button uk-button-success uk-button-large">Check In</a>
                <span ng-show="checkin.in">Checkin: {{ checkin.in }}</span>
                
                <a ng-show="checkin.in && !checkin.out" 
                   ng-click="checkOut()" 
                   class="uk-width-1-1 uk-button uk-button-danger uk-button-large">Check Out</a>
                <p ng-show="checkin.out">Checkout: {{ checkin.out }}<br /> Total: {{ checkin.total }}</p>
            </div>
            
            <br />

            <!--ATTENDANCE-->
            <div class="uk-panel uk-panel-box">
                <a class="uk-width-1-1 uk-button uk-button-primary uk-button-large" href="{{ base_url }}/checkout/{{ code }}">Attendance Report</a>
            </div>

            <!--LOGOUT-->
            <br />            
            
        </div>
    </div>
    
    <div class="uk-panel uk-panel-box" ng-show="unauth">
        <a class="uk-width-1-1 uk-button uk-button-primary uk-button-large" href="auth/login/google">Login via Google</a>
    </div>
    
    <div uk-text-center>
        <a href="logout">Logout</a>
        <br />
        <a ng-click="getSession()">Get Session</a> | 
        <a ng-click="getScope()">Get Scope</a> | 
        <a ng-click="unauthError()">401 Error</a>  |
        <a ng-click="ajaxLogout()">ajaxLogout</a>
    </div>
    
    
    
    <div ng-show="session" ng-show="scope">
        <h2>Session</h2>
        <pre>{{ session }}</pre>
    </div>
    
    <!--JAVASCRIPT-->
    <script type="text/javascript" 
            src="https://maps.googleapis.com/maps/api/js?libraries=geometry&key=AIzaSyDodj1oiPE4rns72bKYA0zPMmzJ6RXc1R4&sensor=FALSE"></script>
    <script src="js/app.js" type="text/javascript"></script>
    
</body>
</html>